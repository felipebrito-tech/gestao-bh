let messageAlert=()=>{alert("Primeiro gere um relatório prévio (preferêncialmente, desde o primeiro dia do mês), só depois clique no botão Calcular!")},horaEmMinutos=e=>{let[t,a]=e.split(":").map((e=>parseInt(e)));return a+60*t},minutosEmHorasTexto=e=>{let t=e%60,a=(e-t)/60;return t=t<10?"0"+t:t,a=a<10?"0"+a:a,a+":"+t},exibirAvaliacaoBancoDeHoras=e=>{let t=document.createElement("i");if(t.classList.add("estadoBancoDeHoras"),t.innerText=" | "+e,totalDeHorasRealizadas()){let e=totalDeHorasRealizadas().parentNode;null!=e.querySelector(".estadoBancoDeHoras")&&e.removeChild(e.querySelector(".estadoBancoDeHoras")),e.appendChild(t)}else messageAlert()},avaliarBancoDeHoras=(e,t)=>{let a=horaEmMinutos(e),o=horaEmMinutos(t);if(a>o){let e=minutosEmHorasTexto(a-o);exibirAvaliacaoBancoDeHoras("Você está devendo "+e+" horas neste mês.")}else if(a<o){let e=minutosEmHorasTexto(o-a);exibirAvaliacaoBancoDeHoras("Você está com crédito de "+e+" horas neste mês.")}else exibirAvaliacaoBancoDeHoras("Você está em dia com seu Banco de Horas.")},totalizarHorasDia=(e,t,a,o)=>horaEmMinutos(t)-horaEmMinutos(e)+(horaEmMinutos(o)-horaEmMinutos(a)),contarDiasNaoRegistrados=e=>{let t=0;for(let a of e)"ND"==a.value&&t++;return t},totalHorasDevidas=(e,t)=>8*(e-t),transformarTabela=()=>{let e=document.querySelectorAll(".AtenaMvcGrid tbody td");for(let t=0;t<e.length;t++){let a=e[t];if(t%7==2&&a.classList.add("entrada"),t%7==3&&a.classList.add("inicioAlmoco"),t%7==4&&a.classList.add("fimAlmoco"),t%7==5&&a.classList.add("saida"),t%7==6&&a.classList.add("total"),t%7>1){let e=a.innerText,t="<input type='text' />";a.setHTML(t),a.querySelectorAll("input")[0].value=e,a.querySelectorAll("input")[0].style="width: inherit; border-style: none; background-color: transparent;"}}},totalDeHorasRealizadas=()=>{let e=document.getElementById("bottomRelatorio");return e?e.querySelectorAll("div i")[1]:null},calcularBancoDeHoras=()=>{0==document.getElementsByClassName("entrada").length&&transformarTabela();let e=document.querySelectorAll(".total"),t=0;for(let a of e){let e=a.parentNode,o=e.querySelector(".entrada input").value,l=e.querySelector(".inicioAlmoco input").value,r=e.querySelector(".fimAlmoco input").value,s=e.querySelector(".saida input").value;if(o.includes(":")&&l.includes(":")&&r.includes(":")&&s.includes(":")){let e=totalizarHorasDia(o,l,r,s);t+=e,a.querySelector("input").value=minutosEmHorasTexto(e)}}if(totalDeHorasRealizadas()){totalDeHorasRealizadas().innerText=minutosEmHorasTexto(t);let e=document.querySelectorAll(".total input");avaliarBancoDeHoras(totalHorasDevidas(e.length,contarDiasNaoRegistrados(e))+":00",minutosEmHorasTexto(t))}else messageAlert()},removeOldButtonIfExists=()=>{let e=document.getElementById("calcular");e&&e.parentNode.removeChild(e)},inserirButtonCalcular=()=>{removeOldButtonIfExists();let e=document.createElement("button");e.id="calcular",e.innerText="Calcular",e.classList.add("btn","btnPCSStyle","mr-1"),e.style="padding: 0.5em;border-color: darkgray;",document.getElementById("google_translate_element").parentNode.insertBefore(e,document.getElementById("google_translate_element")),e.addEventListener("click",calcularBancoDeHoras)};inserirButtonCalcular();